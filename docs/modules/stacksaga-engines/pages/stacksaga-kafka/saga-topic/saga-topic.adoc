= SagaTopic

[source,java]
----
//<1>
public enum PlaceOrderTopic implements SagaTopic<PlaceOrderTopic> { //<2>
    //<3>
    DO_USER_VALIDATE(1, "user-service", SagaTopicType.QUERY_DO_ACTION),
    DO_MAKE_PAYMENT(1, "order-service", SagaTopicType.COMMAND_DO_ACTION),
    UNDO_MAKE_PAYMENT(2, "order-service", SagaTopicType.COMMAND_UNDO_ACTION, DO_MAKE_PAYMENT),
    UNDO_MAKE_PAYMENT_SUB_BEFORE_1(-2.1f, "order-service", SagaTopicType.COMMAND_UNDO_BEFORE_ACTION, UNDO_MAKE_PAYMENT),
    UNDO_MAKE_PAYMENT_SUB_BEFORE_2(-2.2f, "order-service", SagaTopicType.COMMAND_UNDO_BEFORE_ACTION, UNDO_MAKE_PAYMENT),
    UNDO_MAKE_PAYMENT_SUB_AFTER_1(2.1f, "order-service", SagaTopicType.COMMAND_UNDO_AFTER_ACTION, UNDO_MAKE_PAYMENT),
    DO_UPDATE_STOCK(3, "order-service", SagaTopicType.COMMAND_DO_ACTION),
    UNDO_UPDATE_STOCK(4, "order-service", SagaTopicType.COMMAND_UNDO_ACTION, DO_UPDATE_STOCK),
    DO_MAKE_DELIVERY(5, "delivery-service", SagaTopicType.COMMAND_DO_ACTION),
    UNDO_MAKE_DELIVERY(6, "delivery-service", SagaTopicType.COMMAND_UNDO_ACTION, DO_MAKE_DELIVERY),
    ;
    //<4>
    private final String targetServiceName;
    //<5>
    private final SagaTopicType sagaEventType;
    //<6>
    private final PlaceOrderTopic revert;
    //<7>
    private final float topicKey;

    //<8>
    PlaceOrderTopic(float topicKey, String targetServiceName, SagaTopicType sagaEventType, PlaceOrderTopic parent) {
        this.targetServiceName = targetServiceName;
        this.sagaEventType = sagaEventType;
        this.revert = parent;
        this.topicKey = topicKey;
    }

    //<9>
    PlaceOrderTopic(float topicKey, String targetServiceName, SagaTopicType sagaEventType) {
        this.targetServiceName = targetServiceName;
        this.sagaEventType = sagaEventType;
        this.revert = null;
        this.topicKey = topicKey;
    }

    //<10>
    @Override
    public String targetService() {
        return this.targetServiceName;
    }

    //<11>
    @Override
    public SagaTopicType topicType() {
        return this.sagaEventType;
    }

    //<12>
    @Override
    public PlaceOrderTopic parent() {
        return this.revert;
    }

    //<13>
    @Override
    public float topicKey() {
        return this.topicKey;
    }
}
----
